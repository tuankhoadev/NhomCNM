<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"
    />
    <title>UserManager</title>
  </head>
  <body>
    <div class="container">
      <div class="main_Custom">
        <div class="custom_left">
          <h2>USER MANAGER</h2>
          <div class="button-group">
            <!-- <button id="addAccount">Add Account</button> -->
            <button id="editAccount" id="listAccountButton" onclick="showAccountList()">
              List Account
            </button>
          </div>
        </div>
        <div class="custom_right">
          <div class="header">
            <div class="search">
              <div class="box">
                <form name="search">
                  <input
                    type="text"
                    class="inputSearch"
                    name="txt"
                    onmouseout="this.value = ''; this.blur();"
                  />
                </form>
                <i class="fas fa-search"></i>
              </div>
            </div>

            <div class="btnAddAccount">
              <button id="btnConnectWallet" onclick="connectMetaMask()">Connect Wallet</button>
              <button id="btnConnectconnection" onclick="checkContractConnection()">Connect contract</button>
              <span id="walletStatus" style="margin-left: 10px; font-weight: bold;">Not Connected</span>
            </div>
            <div id="walletInfo" style="margin-top: 10px; display: none;">
              <p><strong>Connected Account:</strong> <span id="accountAddress"></span></p>
              <button id="btnShowAdd">Add User</button>
            </div>
          </div>

  

          <div id="container-list" class="container-list bootstrap snippets bootdey">
            <div class="row">
              <div class="col-lg-12">
                <div class="main-box no-header clearfix">
                  <div class="main-box-body clearfix">
                    <div class="table-responsive">
                      <table class="table user-list">
                        <thead>
                          <tr> 
							              <th><span>Name</span></th>
                            <th class="text-center"><span>Age</span></th>
                            <th class="text-center"><span>Adress</span></th>
                            <th>&nbsp;</th>
                          </tr>
                        </thead>
                        <tbody id="accountsListContainer">
                          <div id="userList"></div> <!-- Hiển thị danh sách người dùng -->
                          <tr>
                            <td class="text-center" id="Nam"></td>
                            <td class="text-center" id="Age"></td>
                            <td class="text-center" id="Adress"></td>
                            <td style="width: 10% "  >
                              <a href="#" class="table-link text-info">
                                <span class="fa-stack">
                                  <i class="fa fa-square fa-stack-2x"></i>
                                  <i id="edit" class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                                </span>
                              </a>
                              <a href="#" class="table-link danger">
                                <span class="fa-stack">
                                  <i class="fa fa-square fa-stack-2x"></i>
                                  <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                                </span>
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="addAccountModal" class="modal">
          <form id="createAccountForm" onsubmit="createAccount(event)">
            <div class="modal-content">
              <span class="close">&times;</span>
              <h3 class="text-center">ADD ACCOUNT</h3>
              <div class="table-responsive text-center">
                <label for="name">Name:</label><br />
                <input type="text" id="name" name="name" required /><br />
                <label for="age">Age:</label><br />
                <input type="number" id="age" name="age" required /><br />
                <label for="address">Address:</label><br />
                <input type="text" id="address" name="address" required /><br />
              </div>
              <div class="btn-editAccount text-center">
                <button id="btnAdd" onclick="createAccount() ">ADD</button>
              </div>
            </div>
          </form>
        </div>
		<div id="editAccountModal" class="modal">
			<div class="modal-content">
			  <span class="close">&times;</span>
			  <h3 class="text-center">EDIT ACCOUNT</h3>
			  <form onsubmit="updateAccount()">
				  <div class="table-responsive text-center">
					  <input type="text" placeholder="User" id="editUser" /><br />
					  <input type="number" placeholder="Age" id="editAge" /><br />
            <input type="text" placeholder="Address" id="editAddress" /><br />
					</div>
					<div class="btn-editAccount text-center">
						<button class="btnEdit" onclick="updateAccount()">SAVE</button>
					</div>
				</form>
			</div>
		  </div>
		  
      </div>
    </div>
    <script src="./page.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
    <script src="./script.js"></script>
  </body>
</html>